# Interface de configuration - AperÃ§u

## Section Synchronisation Contacts & Agenda

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Synchronisation Contacts & Agenda                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚ Contacts (Classe Personne)                                         â”‚
â”‚ â˜‘ Activer la synchronisation automatique des contacts              â”‚
â”‚                                                                     â”‚
â”‚   Utilisateur cible pour les contacts                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚   â”‚ -- Utiliser l'utilisateur connectÃ© --        â–¼â”‚               â”‚
â”‚   â”‚ admin                                          â”‚               â”‚
â”‚   â”‚ user1                                          â”‚               â”‚
â”‚   â”‚ user2                                          â”‚               â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚   Choisir un utilisateur spÃ©cifique ou laisser vide pour           â”‚
â”‚   synchroniser avec l'utilisateur qui modifie le fichier           â”‚
â”‚                                                                     â”‚
â”‚   Carnet d'adresses cible                                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚   â”‚ contacts                                       â”‚               â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚   URI du carnet d'adresses (gÃ©nÃ©ralement "contacts" ou "default")  â”‚
â”‚                                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚ Agenda (Classe Action)                                             â”‚
â”‚ â˜‘ Activer la synchronisation automatique des actions dans l'agenda â”‚
â”‚                                                                     â”‚
â”‚   Utilisateur cible pour l'agenda                                  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚   â”‚ -- Utiliser l'utilisateur connectÃ© --        â–¼â”‚               â”‚
â”‚   â”‚ admin                                          â”‚               â”‚
â”‚   â”‚ user1                                          â”‚               â”‚
â”‚   â”‚ user2                                          â”‚               â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚   Choisir un utilisateur spÃ©cifique ou laisser vide pour           â”‚
â”‚   synchroniser avec l'utilisateur qui modifie le fichier           â”‚
â”‚                                                                     â”‚
â”‚   Calendrier cible                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚   â”‚ personal                                       â”‚               â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚   URI du calendrier (gÃ©nÃ©ralement "personal", "work", etc.)        â”‚
â”‚                                                                     â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚   â”‚ ğŸ’¾ Enregistrer les paramÃ¨tres de synchro    â”‚                 â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚   âœ… ParamÃ¨tres de synchronisation enregistrÃ©s avec succÃ¨s         â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Comportement de l'interface

### Activation/DÃ©sactivation

Lorsque la case Ã  cocher est **dÃ©cochÃ©e** :
- Les champs en dessous deviennent **grisÃ©s** (opacitÃ© 50%)
- Les champs sont **dÃ©sactivÃ©s** (non modifiables)
- Les valeurs sont conservÃ©es mais non utilisÃ©es

Lorsque la case Ã  cocher est **cochÃ©e** :
- Les champs deviennent **actifs** (opacitÃ© 100%)
- Les champs sont **modifiables**
- Les valeurs sont utilisÃ©es lors de la synchronisation

### Enregistrement

Au clic sur "Enregistrer les paramÃ¨tres de synchronisation" :
1. Bouton dÃ©sactivÃ© temporairement
2. Texte change en "â³ Enregistrement..."
3. RequÃªte POST vers `/apps/crm/settings/sync`
4. Message de succÃ¨s affichÃ© : "âœ… ParamÃ¨tres enregistrÃ©s avec succÃ¨s"
5. Bouton redevient actif

### Messages d'erreur possibles

```
âŒ Erreur lors de l'enregistrement
```

## AccÃ¨s Ã  l'interface

**Chemin de navigation :**
```
Avatar (haut droite) 
  â†’ ParamÃ¨tres d'administration 
    â†’ ParamÃ¨tres supplÃ©mentaires 
      â†’ CRM 
        â†’ Section "Synchronisation Contacts & Agenda"
```

## Valeurs par dÃ©faut

| ParamÃ¨tre | Valeur par dÃ©faut |
|-----------|-------------------|
| Synchronisation contacts activÃ©e | â˜ (dÃ©sactivÃ©e) |
| Utilisateur cible contacts | (vide - utilise l'utilisateur connectÃ©) |
| Carnet d'adresses | "contacts" |
| Synchronisation agenda activÃ©e | â˜ (dÃ©sactivÃ©e) |
| Utilisateur cible agenda | (vide - utilise l'utilisateur connectÃ©) |
| Calendrier | "personal" |

## Technologies utilisÃ©es

- **Backend :** PHP 8.1+ avec OCP (Nextcloud API)
- **Frontend :** TypeScript compilÃ© avec Webpack
- **Storage :** Configuration stockÃ©e dans `oc_appconfig`
- **API :** REST avec protection CSRF
